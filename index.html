<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kirana Store Management System</title>
    <link rel="stylesheet" href="style.css">
    <meta name="theme-color" content="#218097">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-left">
                <h1 class="store-title" id="store-title">Kirana Store Management</h1>
                <div class="connection-status">
                    <span class="status-indicator" id="status-indicator"></span>
                    <span id="connection-status">Online</span>
                </div>
            </div>
            <div class="header-right">
                <div class="language-selector">
                    <select id="language-select" class="form-control">
                        <option value="en">English</option>
                        <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                        <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                    </select>
                </div>
                <button class="btn btn--secondary btn--sm" id="voice-toggle">
                    <span id="voice-icon">üé§</span>
                    <span id="voice-text">Voice</span>
                </button>
                <div class="notification-icon" id="notification-icon">
                    <span class="notification-bell">üîî</span>
                    <span class="notification-count" id="notification-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navigation">
        <div class="nav-container">
            <button class="nav-btn active" data-tab="dashboard" id="nav-dashboard">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Dashboard</span>
            </button>
            <button class="nav-btn" data-tab="products" id="nav-products">
                <span class="nav-icon">üì¶</span>
                <span class="nav-text">Products</span>
            </button>
            <button class="nav-btn" data-tab="sales" id="nav-sales">
                <span class="nav-icon">üí∞</span>
                <span class="nav-text">Sales</span>
            </button>
            <button class="nav-btn" data-tab="inventory" id="nav-inventory">
                <span class="nav-icon">üìã</span>
                <span class="nav-text">Inventory</span>
            </button>
            <button class="nav-btn" data-tab="customers" id="nav-customers">
                <span class="nav-icon">üë•</span>
                <span class="nav-text">Customers</span>
            </button>
            <button class="nav-btn" data-tab="analytics" id="nav-analytics">
                <span class="nav-icon">üìà</span>
                <span class="nav-text">Analytics</span>
            </button>
            <button class="nav-btn" data-tab="settings" id="nav-settings">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-text">Settings</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard-tab">
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3 id="today-sales-title">Today's Sales</h3>
                    <div class="dashboard-value" id="today-sales">‚Çπ0</div>
                    <div class="dashboard-change positive" id="sales-change">+0%</div>
                </div>
                <div class="dashboard-card">
                    <h3 id="total-products-title">Total Products</h3>
                    <div class="dashboard-value" id="total-products">0</div>
                    <div class="dashboard-subtext" id="low-stock-text">0 low stock</div>
                </div>
                <div class="dashboard-card">
                    <h3 id="total-customers-title">Total Customers</h3>
                    <div class="dashboard-value" id="total-customers">0</div>
                    <div class="dashboard-subtext" id="active-customers">0 active</div>
                </div>
                <div class="dashboard-card">
                    <h3 id="inventory-value-title">Inventory Value</h3>
                    <div class="dashboard-value" id="inventory-value">‚Çπ0</div>
                    <div class="dashboard-subtext" id="reorder-needed">0 need reorder</div>
                </div>
            </div>

            <div class="dashboard-alerts" id="dashboard-alerts">
                <!-- Dynamic alerts will be inserted here -->
            </div>

            <div class="quick-actions">
                <h3 id="quick-actions-title">Quick Actions</h3>
                <div class="action-buttons">
                    <button class="btn btn--primary" id="quick-sale">Quick Sale</button>
                    <button class="btn btn--secondary" id="add-customer-quick">Add Customer</button>
                    <button class="btn btn--outline" id="check-inventory">Check Inventory</button>
                    <button class="btn btn--outline" id="view-reports">View Reports</button>
                </div>
            </div>
        </div>

        <!-- Products Tab -->
        <div class="tab-content" id="products-tab">
            <div class="products-header">
                <div class="products-controls">
                    <div class="search-container">
                        <input type="text" id="product-search" class="form-control" placeholder="Search products...">
                        <button class="search-btn" id="product-search-btn">üîç</button>
                    </div>
                    <div class="filter-controls">
                        <select id="category-filter" class="form-control">
                            <option value="">All Categories</option>
                        </select>
                        <select id="stock-filter" class="form-control">
                            <option value="">All Stock Levels</option>
                            <option value="low">Low Stock</option>
                            <option value="out">Out of Stock</option>
                            <option value="good">Good Stock</option>
                        </select>
                    </div>
                </div>
                <div class="products-actions">
                    <button class="btn btn--primary" id="add-product-btn">Add Product</button>
                    <button class="btn btn--secondary" id="bulk-add-btn">Bulk Add</button>
                    <button class="btn btn--outline" id="export-products">Export</button>
                </div>
            </div>
            <div class="products-grid" id="products-grid">
                <p>Loading products...</p>
            </div>
        </div>

        <!-- Sales Tab -->
        <div class="tab-content" id="sales-tab">
            <div class="sales-container">
                <div class="sales-form-section">
                    <h3 id="new-sale-title">New Sale</h3>
                    <form id="sales-form" class="sales-form">
                        <div class="form-group">
                            <label for="product-select" id="product-label">Select Product:</label>
                            <select id="product-select" class="form-control" required>
                                <option value="">Choose a product...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="customer-select" id="customer-label">Select Customer:</label>
                            <select id="customer-select" class="form-control">
                                <option value="">Walk-in Customer</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="quantity-input" id="quantity-label">Quantity:</label>
                                <input type="number" id="quantity-input" class="form-control" step="0.1" min="0.1" required>
                            </div>
                            <div class="form-group">
                                <label for="price-input" id="price-label">Price per unit:</label>
                                <input type="number" id="price-input" class="form-control" step="0.01" required readonly>
                            </div>
                        </div>
                        <div class="form-group">
                            <label id="total-label">Total: ‚Çπ<span id="sale-total">0.00</span></label>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn--primary">Complete Sale</button>
                            <button type="button" class="btn btn--secondary" id="voice-sale">Voice Sale</button>
                        </div>
                    </form>
                </div>
                <div class="recent-sales">
                    <h3 id="recent-sales-title">Recent Sales</h3>
                    <div class="sales-list" id="sales-list">
                        <p>Loading recent sales...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Inventory Tab -->
        <div class="tab-content" id="inventory-tab">
            <div class="inventory-controls">
                <div class="inventory-filters">
                    <select id="inventory-category-filter" class="form-control">
                        <option value="">All Categories</option>
                    </select>
                    <select id="inventory-status-filter" class="form-control">
                        <option value="">All Status</option>
                        <option value="low">Low Stock</option>
                        <option value="out">Out of Stock</option>
                        <option value="reorder">Need Reorder</option>
                    </select>
                </div>
                <div class="inventory-actions">
                    <button class="btn btn--primary" id="bulk-update-btn">Bulk Update</button>
                    <button class="btn btn--secondary" id="reorder-alerts-btn">Reorder Alerts</button>
                </div>
            </div>
            <div class="inventory-grid" id="inventory-grid">
                <p>Loading inventory...</p>
            </div>
        </div>

        <!-- Customers Tab -->
        <div class="tab-content" id="customers-tab">
            <div class="customers-header">
                <div class="customers-search">
                    <input type="text" id="customer-search" class="form-control" placeholder="Search customers...">
                </div>
                <button class="btn btn--primary" id="add-new-customer">Add Customer</button>
            </div>
            <div class="customers-grid" id="customers-grid">
                <p>Loading customers...</p>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div class="tab-content" id="analytics-tab">
            <div class="analytics-header">
                <h2 id="analytics-title">Analytics Dashboard</h2>
                <div class="analytics-tabs">
                    <button class="analytics-tab-btn active" data-analytics-tab="text" id="text-analytics-btn">Text Analytics</button>
                    <button class="analytics-tab-btn" data-analytics-tab="charts" id="chart-analytics-btn">Chart Analytics</button>
                </div>
            </div>
            
            <!-- Text Analytics -->
            <div class="analytics-content active" id="text-analytics-content">
                <div class="text-analytics-grid">
                    <div class="analytics-card">
                        <h3 id="sales-summary-title">Sales Summary</h3>
                        <div id="sales-summary-content">Loading analytics...</div>
                    </div>
                    <div class="analytics-card">
                        <h3 id="inventory-insights-title">Inventory Insights</h3>
                        <div id="inventory-insights-content">Loading insights...</div>
                    </div>
                    <div class="analytics-card">
                        <h3 id="customer-analysis-title">Customer Analysis</h3>
                        <div id="customer-analysis-content">Loading analysis...</div>
                    </div>
                    <div class="analytics-card">
                        <h3 id="forecast-title">Sales Forecast</h3>
                        <div id="forecast-content">Loading forecast...</div>
                    </div>
                </div>
            </div>

            <!-- Chart Analytics -->
            <div class="analytics-content" id="chart-analytics-content">
                <div class="chart-controls">
                    <select id="chart-type-select" class="form-control">
                        <option value="bar">Bar Chart</option>
                        <option value="line">Line Chart</option>
                        <option value="pie">Pie Chart</option>
                        <option value="area">Area Chart</option>
                    </select>
                    <select id="chart-data-select" class="form-control">
                        <option value="sales">Sales Data</option>
                        <option value="inventory">Inventory Levels</option>
                        <option value="customers">Customer Activity</option>
                        <option value="profit">Profit Analysis</option>
                    </select>
                </div>
                <div class="chart-container" style="position: relative; height: 400px;">
                    <canvas id="analytics-chart"></canvas>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div class="tab-content" id="settings-tab">
            <div class="settings-container">
                <div class="settings-section">
                    <h3 id="profile-settings-title">Profile Settings</h3>
                    <form id="profile-form" class="settings-form">
                        <div class="form-group">
                            <label for="store-name">Store Name:</label>
                            <input type="text" id="store-name" class="form-control" value="My Kirana Store">
                        </div>
                        <div class="form-group">
                            <label for="owner-name">Owner Name:</label>
                            <input type="text" id="owner-name" class="form-control" value="Store Owner">
                        </div>
                        <div class="form-group">
                            <label for="phone-number">Phone Number:</label>
                            <input type="tel" id="phone-number" class="form-control" value="+91-9876543210">
                        </div>
                        <div class="form-group">
                            <label for="store-address">Store Address:</label>
                            <textarea id="store-address" class="form-control" rows="3">123 Main Street, City</textarea>
                        </div>
                        <button type="submit" class="btn btn--primary">Update Profile</button>
                    </form>
                </div>

                <div class="settings-section">
                    <h3 id="app-settings-title">App Settings</h3>
                    <div class="settings-options">
                        <div class="setting-item">
                            <label for="notifications-enabled">Enable Notifications:</label>
                            <input type="checkbox" id="notifications-enabled" checked>
                        </div>
                        <div class="setting-item">
                            <label for="voice-enabled">Enable Voice Input:</label>
                            <input type="checkbox" id="voice-enabled" checked>
                        </div>
                        <div class="setting-item">
                            <label for="auto-backup">Auto Backup:</label>
                            <input type="checkbox" id="auto-backup" checked>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 id="data-management-title">Data Management</h3>
                    <div class="data-actions">
                        <button class="btn btn--secondary" id="export-data">Export Data</button>
                        <button class="btn btn--secondary" id="import-data">Import Data</button>
                        <button class="btn btn--outline" id="backup-data">Backup to Cloud</button>
                        <button class="btn btn--outline" id="restore-data">Restore Data</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <!-- Add Product Modal -->
    <div class="modal hidden" id="add-product-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="add-product-title">Add New Product</h3>
                <button class="modal-close" id="close-add-product">&times;</button>
            </div>
            <form id="add-product-form" class="modal-form">
                <div class="form-group">
                    <label for="product-name">Product Name:</label>
                    <input type="text" id="product-name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="product-category">Category:</label>
                    <select id="product-category" class="form-control" required>
                        <option value="">Select Category</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="cost-price">Cost Price:</label>
                        <input type="number" id="cost-price" class="form-control" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="selling-price">Selling Price:</label>
                        <input type="number" id="selling-price" class="form-control" step="0.01" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="initial-stock">Initial Stock:</label>
                        <input type="number" id="initial-stock" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="min-stock">Minimum Stock:</label>
                        <input type="number" id="min-stock" class="form-control" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="product-unit">Unit:</label>
                    <select id="product-unit" class="form-control" required>
                        <option value="kg">Kilogram (kg)</option>
                        <option value="gram">Gram (g)</option>
                        <option value="liter">Liter (L)</option>
                        <option value="pieces">Pieces</option>
                        <option value="packet">Packet</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="product-barcode">Barcode (optional):</label>
                    <input type="text" id="product-barcode" class="form-control">
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn--primary">Add Product</button>
                    <button type="button" class="btn btn--secondary" id="voice-add-product">Voice Add</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bulk Add Modal -->
    <div class="modal hidden" id="bulk-add-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="bulk-add-title">Bulk Add Products</h3>
                <button class="modal-close" id="close-bulk-add">&times;</button>
            </div>
            <div class="modal-form">
                <div class="bulk-add-options">
                    <button class="btn btn--secondary" id="csv-upload-btn">Upload CSV</button>
                    <input type="file" id="csv-file-input" accept=".csv" class="hidden">
                    <button class="btn btn--outline" id="download-template">Download Template</button>
                </div>
                <div class="bulk-preview" id="bulk-preview">
                    <p>Upload a CSV file to bulk add products</p>
                </div>
                <div class="modal-actions">
                    <button class="btn btn--primary hidden" id="confirm-bulk-add">Add Products</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Modal -->
    <div class="modal hidden" id="customer-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="customer-modal-title">Add Customer</h3>
                <button class="modal-close" id="close-customer-modal">&times;</button>
            </div>
            <form id="customer-form" class="modal-form">
                <div class="form-group">
                    <label for="customer-name">Name:</label>
                    <input type="text" id="customer-name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="customer-phone">Phone:</label>
                    <input type="tel" id="customer-phone" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="customer-address">Address:</label>
                    <textarea id="customer-address" class="form-control" rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn--primary">Save Customer</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Voice Recognition Indicator -->
    <div class="voice-indicator hidden" id="voice-indicator">
        <div class="voice-animation">
            <div class="voice-wave"></div>
            <div class="voice-wave"></div>
            <div class="voice-wave"></div>
        </div>
        <p id="voice-status">Listening...</p>
        <button class="btn btn--secondary btn--sm" id="stop-voice">Stop</button>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Loading Indicator -->
    <div class="loading-indicator hidden" id="loading-indicator">
        <div class="spinner"></div>
        <p id="loading-text">Initializing application...</p>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
